\chapter{Related work}
\label{chapter:relatedWork}
Beginning with the first reported occurences of malware, the security researchers have made a huge effort to prevent its harmful behavior. Over the years malware has evolved in different forms and, of course, the antivirus industry has developed more complex detection solutions. Since PDF documents became a good target for cybercriminals, more and more specialists pay attention to the analysis of dangerous PDFs. Integration of so many analysis tools in a single antivirus software has a negative impact on computers performance. For this reason, the cybersecurity field attaches importance to Cloud Computing. In the following sections we will analyze other academic and industrial approaches for transfering antimalware engines to the Cloud and some docummented detection techniques of malicious PDFs.


\section{Cloud based malware detection}
\label{section:relatedWorkCloud}
In the field of Cloud solutions for malware detection, there is a sparse amount of shared academic works. As compensation, in the antivirus industry there is a fast growing interest for Cloud Computing, which has higher computational power and could therefore run more advanced and complex detection algorithms. \par
An important example is \textbf{VirusTotal} \cite{virustotal}, a popular Cloud application developed by Hispasec Sistemas, that aggregates more than 50 antivirus engines and makes them publicly available for scanning uploaded files. From the user perspective, this is an excellent application, that can extract metadata of the submitted file and can identify any dubious signal. The provided result represents a comparation between analysis verdicts of cybersecurity market leaders. Of course this is an advantage in terms of the scanning result precision and respectively a gain regarding spent computational time. On average it takes aprox. 55 seconds to upload and analyze a 400KB file. VirusTotal is also helping to maintain the global cybersecurity at a high level, by sharing all the submitted suspicious files with the security researchers. Thereby the antivirus engines will be permanently improved. \par
\textbf{Sandbox Analyzer} is another antimalware Cloud solution developed by Bitdefender \cite{bdSandbox}. It's approach is a bit different, because it
ensures the security on a private network, where the Bitdefender product is installed, thus not being available for public access. It's operating principle is also specific, by preventing the execution of threats on an endpoint and automatically sending of harmful files to the Cloud. After extra analysis in the Cloud, the Sandbox Analyzer can take remediation action based on the verdict. In that way, malicious files get disinfected, quarantined or deleted. One of the benefits for this solution is in-depth analysis of malicious files in an isolated environment, rather than on user's machine. Thereby the risk for performance implication, as well as the risk of accidental run of malware on an endpoint machine are eliminated. At the core of the Sandbox Analyzer there are Machine Learning algorithms and dynamic behavior analysis techniques that are constantly improved to detect fresh threats.

% TODO maybe add this https://bradscholars.brad.ac.uk/bitstream/handle/10454/16043/Version%203.3%20-%20Thesis.pdf?sequence=1&isAllowed=y


\section{Detection of malicious PDF}
\label{section:relatedWorkML}
\textbf{PJScan}, presented in the paper of Laskov and Srndic \cite{pjscan}, is a Machine Learning approach that trains One-Class Support Vector Machine (\textit{OCSVM}) to classify PDF files. This approach is focused on static analysis of embedded Javascript code, as it is known for the ability of integrating malicious behavior in PDF documents. The authors used \textit{n-gram} analysis to extract lexical features. The obtained sequence of tokens served later as input for the machine learning algorithm. The trained model can correctly classify malicious samples containing Javascript code. However PJScan has a lower accuracy, because it is not able to detect obfuscated parts and there are also some samples containing other types of malicious payload, such as SWF\footnote{Adobe Flash file format used for multimedia}. \par
Another example of static analysis of PDF Structure is \textbf{PDF Tools} by Didier Stevens \cite{pdftools}. It represents a suite of tools for scanning, parsing and dumping PDF files. This approach focuses on identifying the fundamental elements of the format, such as Streams, Cross Reference Tables etc. The advantage of PDF Tools is their ability of name obfuscation handling and their simplicity. Because of their high speed performance, PDF Tools are largely used in cybersecurity research. \par
A completely new approach mentioned in the research paper of Fettaya et al. \cite{deepdf} describes an algorithm that uses a Convolutional Neural Network (\textit{CNN}) to detect malicious PDF files. The trained model, based on a single convolutional layer with a global max pool and a linear layer doesn't require any data preprocessing. Instead of this, the model is trained using as input the binary representations of the files. It is worth noting that the described algorithm could be efficiently used for distinguishing various families of malware. The rate of correct detections achieves 94\%, the algorithm being also capable to classify aprox. 80\% of the malware into different categories.